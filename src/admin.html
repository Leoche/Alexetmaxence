<!DOCTYPE html>
<html lang="en" ng-app="adminApp">
<head>
	<meta charset="UTF-8">
	<title>Admin</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/base-min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/forms-min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/buttons-min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
	<style>
		body{background: #EEE}
		.button-secondary {color: white;border-radius: 4px;text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);}
		.button-success {background: rgb(28, 184, 65);}
        .button-error {background: rgb(202, 60, 60);}
		hr{border:none;border-bottom:1px solid #CCC;}
		.spacer{width:99%;height:15px;}
		.spacer-xs{width:99%;height:7px;}
		.button-xsmall {font-size: 70%;}
        .button-small {font-size: 85%;}
        .button-large {font-size: 110%;}
        .pure-button{margin-right:5px;}
        .button-xlarge {font-size: 125%;}
        .bread{background: rgb(28, 184, 65);color:#FEFEFE;width:calc(100% - 30px);padding:10px 15px;border-radius: 5px;}
        textarea{resize:vertical;}
        .bordered{border-left: 5px solid #CCC;padding-left: 10px;margin:20px 0;}
	</style>
</head>
<body>
	<div class="pure-g">
	    <div class="pure-u-md-1-5"></div>
	    <div class="pure-u-md-3-5" style="background: #FEFEFE; padding:0 15px;" ng-controller="adminController">
	    	<div class="spacer-xs"></div>
			<h1>Administration</h1>
			<hr>
	    <div ng-hide="!saved">
	    	<div class="bread">Informations sauvegardés.</div>
	    </div>
	    <div ng-hide="saved">
			<form class="pure-form pure-form-stacked">
				<h2>Accueil</h2>
				<fieldset class="pure-group">
			    	<label for="apropos">Texte d'accueil "A Propos des auteurs"</label>
			   		<textarea name="apropos" id="apropos" class="pure-input-1" rows="8" ng-model="infos.apropos"></textarea>
				</fieldset>
				<hr>
			    <h2>Les Livres</h2>
			    <p>Cliquez pour éditer</p>
			    <div class="pure-menu pure-menu-horizontal">
			    	<button class="pure-button" ng-class="{ 'pure-button-primary': isActive(i)}"
			    		ng-repeat="(i,livre) in infos.livres" 
			    		ng-click="setActive(i)">
			    	{{livre.title}}
			    	</button>
			    	<button ng-click="addBook()" class="button-success button-secondary pure-button"><i class="fa fa-plus"></i> Ajouter un livre</button>

				</div>
			    <fieldset ng-hide="isActive(i)">
			    	<h3>Edition de <strong>{{infos.livres[active].title}}</strong></h3>

			        <label for="title"><i class="fa fa-caret-right"></i> Titre du livre</label>
			        <input id="title" type="text" class="pure-input-1" ng-model="infos.livres[active].title">
			        <div class="spacer"></div>

			        <label for="color"><i class="fa fa-caret-right"></i> Couleur de fond</label>
			        <input id="color" type="color" class="pure-input-1" ng-model="infos.livres[active].color" style="height:40px">
					<div class="spacer"></div>

			        <label for="cover"><i class="fa fa-caret-right"></i> Lien de la couverture du livre</label>
			        <img src="{{infos.livres[active].cover}}" alt="cover" height="100" style="display: inherit;margin:20px auto;">
			        <input id="cover" type="text" class="pure-input-1" placeholder="http://liens-vers.fr/image-de-couverture.jpg" ng-model="infos.livres[active].cover">
					<div class="spacer"></div>

			        <label for="histoire"><i class="fa fa-caret-right"></i> Histoire/Résumé</label>
			   		<textarea name="histoire" id="histoire" class="pure-input-1" placeholder="Histoire ou résumé du livre" rows="8" ng-model="infos.livres[active].histoire"></textarea>
			        <div class="spacer"></div>

			        <label for="kindle"><i class="fa fa-caret-right"></i> Lien Kindle</label>
			        <input id="kindle" type="text" class="pure-input-1" placeholder="http://liens-vers-kindle.fr" ng-model="infos.livres[active].kindle_link">
			        <div class="spacer"></div>

			        <label for="kindlefire"><i class="fa fa-caret-right"></i> Lien Kindle Fire</label>
			        <input id="kindlefire" type="text" class="pure-input-1" placeholder="http://liens-vers-kindle-fire.fr" ng-model="infos.livres[active].kindlefire_link">
			        <div class="spacer"></div>

			        <label for=""><i class="fa fa-caret-right"></i> Ils parlent de nous/Liens externes</label>
						<div class="bordered" ng-repeat="(j,citation) in infos.livres[active].liens">
							<label for="citation">Citation</label>
				       		<input id="citation" type="text" class="pure-input-1" placeholder="Citation en elle même" ng-model="infos.livres[active].liens[j].quote">
				        	<div class="spacer-xs"></div>
							<label for="name">Nom du site</label>
				       		<input id="name" type="text" class="pure-input-1" placeholder="Nom du site (eg: MonSite.fr)" ng-model="infos.livres[active].liens[j].site">
				        	<div class="spacer-xs"></div>
							<label for="link">Lien vers le site</label>
				       		<input id="link" type="url" class="pure-input-1" placeholder="Lien en question (eg: http://modesite.fr/analyse-all-in.html)" ng-model="infos.livres[active].liens[j].link">
				        	<div class="spacer-xs"></div>
			    			<button ng-click="removeLink(j)" class="button-error button-secondary button-xsmall pure-button" ng-click="addLink()"><i class="fa fa-times"></i> Supprimer</button>
				        	
						</div>

			    		<button class="button-small pure-button" ng-click="addLink()"><i class="fa fa-plus"></i> Ajouter un lien</button>
			    </fieldset>
				<div class="spacer"></div>
				<hr>
				<div class="spacer"></div>
			    <button ng-click="resetAll()" class="pure-button button-xlarge">Réinitialiser</button>
			    <button ng-click="submit()" class="pure-button button-xlarge pure-button-primary">Enregistrer</button>
			</form>
	    	</div>
			<div class="spacer"></div>
	    </div>
	    <div class="pure-u-md-1-5"></div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.7/angular.min.js"></script>
	<script src="js/admin.min.js"></script>
</body>
</html>